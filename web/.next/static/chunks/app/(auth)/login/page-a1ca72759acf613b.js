(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{9630:function(e,t,n){Promise.resolve().then(n.bind(n,3871))},6463:function(e,t,n){"use strict";var r=n(1169);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},3871:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),o=n(2265),u=n(6463),a=n(2800),s=n(4282),i=n(2108);function l(){let e=(0,u.useRouter)(),[t,n]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[d,f]=(0,o.useState)(null),[m,h]=(0,o.useState)(!1);async function p(n){n.preventDefault(),f(null),h(!0);try{let{data:n}=await a.h.post("/auth/login",{email:t,password:l}),r={token:n.token,user:n.user};(0,s.K)(r),(0,a.u)(r.token),e.replace("/account")}catch(e){var r,o;f((null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message)||"Login failed")}finally{h(!1)}}return(0,r.jsxs)("main",{className:"container mx-auto max-w-md px-4 py-10",children:[(0,r.jsx)("h1",{className:"mb-4 text-2xl font-semibold",children:"Login"}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"w-full rounded-md border px-3 py-2",value:t,onChange:e=>n(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Password",className:"w-full rounded-md border px-3 py-2",value:l,onChange:e=>c(e.target.value),required:!0}),d&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:d}),(0,r.jsx)(i.z,{type:"submit",disabled:m,children:m?"Logging inâ€¦":"Login"})]})]})}},2108:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(7437),o=n(2265),u=n(4839),a=n(6164);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,u.W)(t))}let i=o.forwardRef((e,t)=>{let{className:n,variant:o="default",size:u="default",...a}=e;return(0,r.jsx)("button",{ref:t,className:s(s("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-black text-white hover:bg-black/90",outline:"border border-input bg-transparent hover:bg-gray-50",ghost:"hover:bg-gray-100"}[o],{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}[u]),n),...a})});i.displayName="Button"},2800:function(e,t,n){"use strict";n.d(t,{h:function(){return u},u:function(){return a}});var r=n(8472),o=n(357);let u=r.Z.create({baseURL:o.env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",withCredentials:!0});function a(e){e?u.defaults.headers.common.Authorization="Bearer ".concat(e):delete u.defaults.headers.common.Authorization}},4282:function(e,t,n){"use strict";n.d(t,{G:function(){return o},K:function(){return u}});let r="session";function o(){try{let e=localStorage.getItem(r);return e?JSON.parse(e):null}catch(e){return null}}function u(e){e?localStorage.setItem(r,JSON.stringify(e)):localStorage.removeItem(r)}}},function(e){e.O(0,[472,868,971,23,744],function(){return e(e.s=9630)}),_N_E=e.O()}]);