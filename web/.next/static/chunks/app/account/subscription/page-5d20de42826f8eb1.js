(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{6568:function(e,t,n){Promise.resolve().then(n.bind(n,4872))},4872:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7437),r=n(2265),i=n(2800),a=n(4282),o=n(2108);function l(){let e=(0,a.G)(),[t,n]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(0),[h,f]=(0,r.useState)(!0);async function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;f(!0);try{let{data:t}=await i.h.post("/subscriptions/recharge",{months:e}),s=null==t?void 0:t.subscription;s&&(n(s.status),c(s.expiresAt)),d((null==t?void 0:t.remainingDays)||0)}finally{f(!1)}}return(0,r.useEffect)(()=>{e&&(0,i.u)(e.token),(async()=>{try{let{data:e}=await i.h.get("/subscriptions/me"),t=null==e?void 0:e.subscription;t&&(n(t.status),c(t.expiresAt)),d((null==e?void 0:e.remainingDays)||0)}catch(e){}f(!1)})()},[e]),(0,s.jsxs)("div",{className:"container mx-auto max-w-2xl px-4 py-6",children:[(0,s.jsx)("h1",{className:"mb-4 text-xl font-semibold",children:"Subscription"}),h?(0,s.jsx)("p",{children:"Loadingâ€¦"}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-sm",children:["Status: ",(0,s.jsx)("strong",{children:t||"none"})]}),(0,s.jsxs)("p",{className:"text-sm",children:["Expires at: ",(0,s.jsx)("strong",{children:l?new Date(l).toLocaleDateString():"-"})]}),(0,s.jsxs)("p",{className:"text-sm",children:["Remaining days: ",(0,s.jsx)("strong",{children:u})]}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsx)(o.z,{onClick:()=>m(1),children:"Recharge 1 month"})})]})]})}},2108:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var s=n(7437),r=n(2265),i=n(4839),a=n(6164);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,i.W)(t))}let l=r.forwardRef((e,t)=>{let{className:n,variant:r="default",size:i="default",...a}=e;return(0,s.jsx)("button",{ref:t,className:o(o("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-black text-white hover:bg-black/90",outline:"border border-input bg-transparent hover:bg-gray-50",ghost:"hover:bg-gray-100"}[r],{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}[i]),n),...a})});l.displayName="Button"},2800:function(e,t,n){"use strict";n.d(t,{h:function(){return i},u:function(){return a}});var s=n(8472),r=n(357);let i=s.Z.create({baseURL:r.env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",withCredentials:!0});function a(e){e?i.defaults.headers.common.Authorization="Bearer ".concat(e):delete i.defaults.headers.common.Authorization}},4282:function(e,t,n){"use strict";n.d(t,{G:function(){return r},K:function(){return i}});let s="session";function r(){try{let e=localStorage.getItem(s);return e?JSON.parse(e):null}catch(e){return null}}function i(e){e?localStorage.setItem(s,JSON.stringify(e)):localStorage.removeItem(s)}}},function(e){e.O(0,[472,868,971,23,744],function(){return e(e.s=6568)}),_N_E=e.O()}]);