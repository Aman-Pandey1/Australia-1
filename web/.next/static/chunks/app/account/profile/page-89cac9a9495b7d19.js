(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{2394:function(e,t,a){Promise.resolve().then(a.bind(a,3198))},3198:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var n=a(7437),l=a(2265),r=a(2800),s=a(4282),u=a(2108);function o(){let e=(0,s.G)(),[t,a]=(0,l.useState)(""),[o,i]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[x,f]=(0,l.useState)(""),[p,b]=(0,l.useState)(""),[v,g]=(0,l.useState)(!1),[y,N]=(0,l.useState)(null);async function j(){g(!0),N(null);try{let e=new FormData;e.append("name",t),p&&e.append("avatarUrl",p),await r.h.patch("/auth/profile",e,{headers:{"Content-Type":"multipart/form-data"}}),N("Saved")}catch(t){var e,a;N((null==t?void 0:null===(a=t.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Failed to save")}finally{g(!1)}}return(0,l.useEffect)(()=>{e&&(0,r.u)(e.token),(async()=>{try{let{data:e}=await r.h.get("/auth/me"),t=null==e?void 0:e.user;t&&a(t.name||"")}catch(e){}})()},[e]),(0,n.jsxs)("div",{className:"container mx-auto max-w-3xl px-4 py-6",children:[(0,n.jsx)("h1",{className:"mb-4 text-xl font-semibold",children:"Edit Profile"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-gray-600",children:"Name"}),(0,n.jsx)("input",{className:"w-full rounded-md border px-3 py-2",value:t,onChange:e=>a(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-gray-600",children:"Age"}),(0,n.jsx)("input",{type:"number",className:"w-full rounded-md border px-3 py-2",value:o,onChange:e=>i(e.target.value?Number(e.target.value):"")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-gray-600",children:"Price"}),(0,n.jsx)("input",{type:"number",className:"w-full rounded-md border px-3 py-2",value:d,onChange:e=>c(e.target.value?Number(e.target.value):"")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-gray-600",children:"Phone"}),(0,n.jsx)("input",{className:"w-full rounded-md border px-3 py-2",value:m,onChange:e=>h(e.target.value)})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-gray-600",children:"Bio"}),(0,n.jsx)("textarea",{className:"w-full rounded-md border px-3 py-2",rows:4,value:x,onChange:e=>f(e.target.value)})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)("label",{className:"mb-1 block text-sm text-gray-600",children:"Avatar URL"}),(0,n.jsx)("input",{className:"w-full rounded-md border px-3 py-2",value:p,onChange:e=>b(e.target.value)})]})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)(u.z,{onClick:j,disabled:v,children:v?"Savingâ€¦":"Save"}),y&&(0,n.jsx)("span",{className:"ml-3 text-sm text-gray-600",children:y})]})]})}},2108:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var n=a(7437),l=a(2265),r=a(4839),s=a(6164);function u(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}let o=l.forwardRef((e,t)=>{let{className:a,variant:l="default",size:r="default",...s}=e;return(0,n.jsx)("button",{ref:t,className:u(u("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-black text-white hover:bg-black/90",outline:"border border-input bg-transparent hover:bg-gray-50",ghost:"hover:bg-gray-100"}[l],{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}[r]),a),...s})});o.displayName="Button"},2800:function(e,t,a){"use strict";a.d(t,{h:function(){return r},u:function(){return s}});var n=a(8472),l=a(357);let r=n.Z.create({baseURL:l.env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",withCredentials:!0});function s(e){e?r.defaults.headers.common.Authorization="Bearer ".concat(e):delete r.defaults.headers.common.Authorization}},4282:function(e,t,a){"use strict";a.d(t,{G:function(){return l},K:function(){return r}});let n="session";function l(){try{let e=localStorage.getItem(n);return e?JSON.parse(e):null}catch(e){return null}}function r(e){e?localStorage.setItem(n,JSON.stringify(e)):localStorage.removeItem(n)}}},function(e){e.O(0,[472,868,971,23,744],function(){return e(e.s=2394)}),_N_E=e.O()}]);